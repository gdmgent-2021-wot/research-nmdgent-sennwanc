<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Stappenplan downloaden en opzetten van Google Assistant | Conversational Interfaces</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="This project is about all aspects of conversational items.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/research-nmdgent-sennwanc/assets/css/0.styles.1b32b243.css" as="style"><link rel="preload" href="/research-nmdgent-sennwanc/assets/js/app.fcd8c697.js" as="script"><link rel="preload" href="/research-nmdgent-sennwanc/assets/js/2.0d115936.js" as="script"><link rel="preload" href="/research-nmdgent-sennwanc/assets/js/22.daf4cb02.js" as="script"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/10.d340d408.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/11.b234e542.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/12.49169c4b.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/13.d793c320.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/14.cf74cc31.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/15.93e2501e.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/16.8ef7f4c7.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/17.eb052b9f.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/18.f2b5899f.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/19.677c61f3.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/20.690635b3.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/21.e47cfceb.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/3.a7a00f26.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/4.6100ae54.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/5.2dd61e6a.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/6.0db781a9.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/7.e2d3dbd7.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/8.4a427992.js"><link rel="prefetch" href="/research-nmdgent-sennwanc/assets/js/9.ec97b28d.js">
    <link rel="stylesheet" href="/research-nmdgent-sennwanc/assets/css/0.styles.1b32b243.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/research-nmdgent-sennwanc/" class="home-link router-link-active"><!----> <span class="site-name">Conversational Interfaces</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/research-nmdgent-sennwanc/over/betekenis.html" class="nav-link">
  Over
</a></div><div class="nav-item"><a href="/research-nmdgent-sennwanc/toepassingen/voorbeelden.html" class="nav-link">
  Toepassingen
</a></div><div class="nav-item"><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan.html" class="nav-link">
  Uitvoering
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/research-nmdgent-sennwanc/over/betekenis.html" class="nav-link">
  Over
</a></div><div class="nav-item"><a href="/research-nmdgent-sennwanc/toepassingen/voorbeelden.html" class="nav-link">
  Toepassingen
</a></div><div class="nav-item"><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan.html" class="nav-link">
  Uitvoering
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Uitvoering</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/research-nmdgent-sennwanc/uitvoering/setup.html" class="sidebar-link">Setup van het project</a></li><li><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan.html" class="sidebar-link">Stappenplan voor Google</a></li><li><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan2.html" class="sidebar-link">Stappenplan installeren van het geluid</a></li><li><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan3.html" aria-current="page" class="active sidebar-link">Stappenplan downloaden en opzetten van Google Assistant</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan3.html#stap-1-updaten-van-packages" class="sidebar-link">Stap 1: Updaten van packages</a></li><li class="sidebar-sub-header"><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan3.html#stap-2-opzetten-van-google-assistant-api" class="sidebar-link">Stap 2: opzetten van Google Assistant API</a></li><li class="sidebar-sub-header"><a href="/research-nmdgent-sennwanc/uitvoering/stappenplan3.html#stap-3-authoriseren-van-de-raspberry-voor-de-google-assistant" class="sidebar-link">Stap 3: Authoriseren van de Raspberry voor de Google Assistant.</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="stappenplan-downloaden-en-opzetten-van-google-assistant"><a href="#stappenplan-downloaden-en-opzetten-van-google-assistant" class="header-anchor">#</a> Stappenplan downloaden en opzetten van Google Assistant</h1> <h2 id="stap-1-updaten-van-packages"><a href="#stap-1-updaten-van-packages" class="header-anchor">#</a> Stap 1: Updaten van packages</h2> <p>Na het configureren van de Google Assistant API, zijn er nog enkele zaken die in orde moeten gebracht worden.</p> <p>We beginnen met het updaten van de Raspberry PI packages: <code>sudo apt update</code>.</p> <h2 id="stap-2-opzetten-van-google-assistant-api"><a href="#stap-2-opzetten-van-google-assistant-api" class="header-anchor">#</a> Stap 2: opzetten van Google Assistant API</h2> <p>Wanneer de updates klaar zijn kunnen we over naar de volgende stap.</p> <p>We maken een nieuw bestand aan op de Raspberry PI waar we de credentials gaan opslaan die we eerder aanmaakten.
Om dit te doen voeren we volgende twee commando's uit:
1.<code>mkdir ~/googleassistant</code>.
2.<code>nano ~/googleassistant/credentials.json</code>.</p> <p>In deze file plak je de credentials uit het json bestand die je downloade in de device registratie.</p> <p>Daarna dien je volgende toetscombinaties uit te voeren:</p> <ul><li>Ctrl+X</li> <li>Y</li> <li>Enter om op te slaan</li></ul> <p>Nu gaan we dependencies installeren die we nodig hebben.
Als eerste installeren we de Python 3 en Python 3 Virtual Environment via volgend commando:
<code>sudo apt install python3-dev python3-venv python3-pip libssl-dev libffi-dev libportaudio2</code>.</p> <p>Eens deze installatie gedaan is, schakelen we python 3 in als Virtual Environment: <code>python3 -m venv env</code>.</p> <p>Nu updaten we de versies van <strong>pip</strong> en de <strong>setuptools</strong>: <code>env/bin/python3 -m pip install --upgrade pip setuptools --upgrade</code>.</p> <p>Om in de python omgeving te geraken runnen we het command <code>source env/bin/activate</code> in de terminal, daarna dienen we enkel nog de Google Assistant Library te installeren.
Dit kan met volgende commands:
<code>python3 -m pip install --upgrade google-assistant-library</code> <code>python3 -m pip install --upgrade google-assistant-sdk[samples]</code>.</p> <p>Nu zijn alle voorbereidingen getroffen om de Google Assistant software te runnen op de Raspberry PI.</p> <h2 id="stap-3-authoriseren-van-de-raspberry-voor-de-google-assistant"><a href="#stap-3-authoriseren-van-de-raspberry-voor-de-google-assistant" class="header-anchor">#</a> Stap 3: Authoriseren van de Raspberry voor de Google Assistant.</h2> <p>In deze stap authoriseren we de Raspberry om zo via ons eigen account de rechten te krijgen om Google Assistant queries uit te voeren.</p> <p>Eerst installeren we de Python authorisatie tool met command: <code>python3 -m pip install --upgrade google-auth-oauthlib[tool]</code>.</p> <p>Daarna dienen we de Google Authentication library te runnen. Hierdoor zal je een URL terugkrijgen die je moet plakken in je browser.
<code>google-oauthlib-tool --client-secrets ~/googleassistant/credentials.json \</code> <code>--scope https://www.googleapis.com/auth/assistant-sdk-prototype \</code> <code>--scope https://www.googleapis.com/auth/gcm \</code> <code>--save --headless</code>.</p> <p>Eens in de browser, log in op je google account waarmee je de API key aanmaakte. Daar sta je alle zaken toe die nodig zijn voor de installatie.</p> <p>Daarna moet je een scherm met volgende tekst terugkrijgen: <em>Kopieer deze code, schakel over naar je app en plak de code daar:...</em>. Met daarna een lange authenticatie code.
Kopieer de code en plak het in de terminal op je Raspberry.
Wanneer alles goed verlopen is moet je dit <em>Credentials saved: /home/pi/.config/google-oauthlib-tool/credentials.json</em> terugkrijgen in de terminal.</p> <p>Voor de volgende stap heb je alvast je <strong>projectid</strong> (op google actions te vinden) en <strong>deviceid</strong> (te vinden bij device registration) nodig.</p> <p>Als alles werkt zoals het hoort, hoort u een mondelinge reactie van de assistent bij het ingeven van volgend commando.
<code>googlesamples-assistant-pushtotalk --project-id &lt;projectid&gt; --device-model-id &lt;deviceid&gt;</code>.</p> <p>Zo niet, controleer je best de geluidsinstellingen!</p> <p>ZIEZO, we hebben een werkende spraakassistent!
In de volgende stappen configureren we nog enkele zaken verder zodat we niet telkens op enter hoeven te drukken.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/research-nmdgent-sennwanc/uitvoering/stappenplan2.html" class="prev">
        Stappenplan installeren van het geluid
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/research-nmdgent-sennwanc/assets/js/app.fcd8c697.js" defer></script><script src="/research-nmdgent-sennwanc/assets/js/2.0d115936.js" defer></script><script src="/research-nmdgent-sennwanc/assets/js/22.daf4cb02.js" defer></script>
  </body>
</html>
